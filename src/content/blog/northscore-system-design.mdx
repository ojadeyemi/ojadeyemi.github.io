import Image from "next/image";

export const metadata = {
  title: "Building Northscore: System Design for a Canadian Sports Platform",
  description:
    "How I built a scalable sports data platform serving live stats across Canadian leagues from a single codebase.",
  publishDate: "2026-01-03",
  tags: ["System Design", "PWA", "FastAPI", "Architecture"],
  readTime: "4 min read",
  thumbnail: "/img/northscore-screenshots-grid.png",
};

<FadeIn>

# Building Northscore

_A system design case study_

</FadeIn>

<SlideIn delay={0.2}>

I wanted one place to follow Canadian sports. It didn't exist, so I built it.

**Northscore** is a Progressive Web App that delivers live stats, standings, and aggregated content for Canadian leagues — from a single codebase, on any device.

</SlideIn>

<FadeIn delay={0.3}>

<VideoDialog
  videoId="3v5uWRAhyG4"
  title="Northscore — Product Demo"
  description="Watch the product in action"
/>

</FadeIn>

---

## What It Does

<SlideIn delay={0.2}>

<Image
  src="/img/northscore-screenshots-grid.png"
  alt="Northscore App Screenshots"
  width={1200}
  height={800}
  className="my-6 rounded-lg"
/>

</SlideIn>

<StaggerChildren>

<StaggerItem>

### Live Stats & Standings

Real-time scores across **CFL**, **CEBL**, **CHL**, **CPL**, and more.

</StaggerItem>

<StaggerItem>

### Aggregated Content

Articles, podcasts, and YouTube videos — all indexed in one feed.

</StaggerItem>

<StaggerItem>

### Installable Anywhere

Works on iOS, Android, desktop, and even **Meta Quest**. No app store required.

</StaggerItem>

<StaggerItem>

### Push Notifications

Fans only get updates for teams they actually follow.

</StaggerItem>

</StaggerChildren>

---

## System Architecture

<FadeIn delay={0.2}>

<Image
  src="/img/northscore-architecture.png"
  alt="Northscore System Architecture"
  width={1200}
  height={800}
  className="my-6 rounded-lg"
/>

</FadeIn>

<SlideIn delay={0.3}>

The system has **three main layers**:

</SlideIn>

<StaggerChildren>

<StaggerItem>

### Frontend

`Next.js` PWA deployed to an **edge CDN**.
Fast initial loads, cached globally, zero cold starts.

</StaggerItem>

<StaggerItem>

### Backend

Stateless `FastAPI` containers with **auto-scaling**.
Horizontal scaling by default — no session state.

</StaggerItem>

<StaggerItem>

### Data Layer

- **PostgreSQL** — structured storage
- **Redis** — fast cache reads
- **SQLite** — league-specific isolation

</StaggerItem>

<StaggerItem>

### Ingestion Pipeline

Custom scrapers + API wrappers pull data from various sources into a **unified schema**.

</StaggerItem>

</StaggerChildren>

<InfoAside>

**Key principle:** Every league maps to the same data model. The frontend doesn't care where the data came from.

</InfoAside>

---

## One Codebase, Every Device

<FadeIn delay={0.2}>

I chose **PWA over native apps** for a simple reason: _I'm one person._

</FadeIn>

<SlideIn delay={0.3}>

Building separate iOS, Android, and web apps would mean:

- 3 codebases to maintain
- 3 sets of bugs to fix
- 3 deployment pipelines to manage

Instead, **one Next.js app runs everywhere**.

</SlideIn>

<InfoAside title="Why PWA?">

- No app store approval delays
- Instant updates for all users
- Same code on phones, tablets, desktops, and VR headsets

</InfoAside>

---

## How Data Flows

<FadeIn delay={0.2}>

<InteractiveRequestFlow />

</FadeIn>

<SlideIn delay={0.3}>

Most requests **never hit the database**. Cache-first keeps things fast.

</SlideIn>

```python
@app.get("/teams/{team_id}")
async def get_team(team_id: str):
    # Check cache first
    if cached := redis.get(team_id):
        return cached

    # Cache miss — query database
    team = db.fetch_team(team_id)
    redis.set(team_id, team, ex=300)  # 5 min TTL
    return team
```

<SuccessAside>

**Performance:** Stats API p90 latency stays under `100ms`, even during game days.

</SuccessAside>

---

## The Data Problem

<FadeIn delay={0.2}>

Canadian sports data is **fragmented**. Some leagues have APIs. Most don't.

</FadeIn>

<StaggerChildren>

<StaggerItem>

### Leagues with APIs

Built SDK wrappers with proper error handling.
Example: [CFL SDK](https://github.com/ojadeyemi/cfl-sdk) (open source).

</StaggerItem>

<StaggerItem>

### Leagues without APIs

Custom scrapers fetch and normalize the data on a schedule.

</StaggerItem>

<StaggerItem>

### HoopQueens

Built the **entire data infrastructure** from scratch — no existing source.

</StaggerItem>

</StaggerChildren>

<WarningAside title="Lesson learned">

Data ingestion is **80% of the work**. The app itself is the easy part.

</WarningAside>

---

## Auth & Personalization

<FadeIn delay={0.2}>

**Passwordless authentication** — Google, Microsoft, or email OTP.
No passwords stored. Modern security model.

</FadeIn>

<SlideIn delay={0.3}>

A managed auth backend handles:

- User accounts
- Favorite teams
- Notification preferences
- Upcoming games tracking

The stats API doesn't know who you are. It just serves data.
_Separation of concerns._

</SlideIn>

<InfoAside>

**Onboarding flow:** `install → sign up → enable notifications`
Three steps. Minimal friction.

</InfoAside>

---

## Keeping It Running

<FadeIn delay={0.2}>

Everything is **stateless**. Services scale horizontally by default.

</FadeIn>

<StaggerChildren>

<StaggerItem>

### CI/CD Pipeline

- Every commit is linted, tested, and deployed automatically
- Failed builds **never reach production**
- Automatic rollback on failures

</StaggerItem>

<StaggerItem>

### Observability

Logs, traces, and **Slack alerts** catch issues before users notice.

</StaggerItem>

<StaggerItem>

### Auto-healing

If a container dies, it restarts. No manual intervention needed.

</StaggerItem>

</StaggerChildren>

<SuccessAside>

**Reliability:** `99.99%` uptime since launch. Zero-downtime deployments.

</SuccessAside>

---

## Closing

<FadeIn delay={0.3}>

> Northscore isn't built to _look_ scalable.
> It's built to _stay simple_ as it scales.

</FadeIn>

<SlideIn delay={0.4}>

There's still a lot to improve — better personalization, more leagues, smarter notifications.

But the foundation is solid. That's what matters.

</SlideIn>
